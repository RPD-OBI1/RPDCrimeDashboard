"0","CrimeTypes <- c(""Aggravated Assault"", ""Burglary"", ""Homicide"", ""Larceny"","
"0","                 ""MV Theft"", ""Rape"", ""Robbery"", ""Dangerous Weapons"")"
"0","treedata <- df %>%"
"0","    filter(CrimeType %in% CrimeTypes) %>%"
"0","    filter(SevenDaysGroup %in% 1:curr.week) %>%"
"0","    count(CrimeType = CrimeType,"
"0","          Clearance = ClearanceStatusValue, "
"0","          Closure = CaseStatusValue) %>%"
"0","    ungroup() %>%"
"0","    group_by(CrimeType) %>%"
"0","    mutate(CrimeTypeCount = sum(n)) %>%"
"0","    group_by(CrimeType, Closure) %>%"
"0","    mutate(ClosureCount = sum(n)) %>%"
"0","    ungroup() %>%"
"0","    mutate(CrimeType = paste0(CrimeType, "" ("", "
"0","                              CrimeTypeCount, "", "","
"0","                              round(100 * CrimeTypeCount / sum(n), 2), "
"0","                              ""%)  ""),"
"0","           Closure = paste0(Closure, "" ("","
"0","                            ClosureCount, "", "","
"0","                            round(100 * ClosureCount / CrimeTypeCount, 2),"
"0","                            ""%)  ""),"
"0","           Clearance = paste0(Clearance, "" ("","
"0","                              n, "", "","
"0","                              round(100 * n / ClosureCount, 2),"
"0","                              ""%)""))"
"0","pdf(NULL)"
"0","clearanceTreeMap <- d3tree2("
"0","    treemap("
"0","        treedata,"
"0","        index = c(""CrimeType"", ""Closure"", ""Clearance""),"
"0","        vSize = ""n"","
"0","        draw = FALSE),"
"0","        rootname = ""Total"""
"0","    )"
